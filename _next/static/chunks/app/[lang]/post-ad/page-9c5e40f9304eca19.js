(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[652],{6033:function(e,t,r){Promise.resolve().then(r.bind(r,4196)),Promise.resolve().then(r.bind(r,4726))},4196:function(e,t,r){"use strict";var s=r(7437),a=r(2265),o=r(1496),l=r(6124),i=r(4891),n=r(420),d=r(7648);let c=[{code:"ka",name:"GE"},{code:"en",name:"EN"},{code:"ru",name:"RU"}];t.default=e=>{let{lang:t,dict:r}=e,[m,x]=(0,a.useState)(!1);return(0,s.jsx)("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:(0,s.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(d.default,{href:"/".concat(t,"/"),className:"flex items-center space-x-2",children:(0,s.jsxs)("span",{className:"text-xl font-bold text-gray-900",children:["idealista",(0,s.jsx)("span",{className:"text-primary-600",children:".ge"})]})})}),(0,s.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,s.jsxs)("nav",{className:"flex space-x-8",children:[(0,s.jsx)("a",{href:"#",className:"text-gray-700 hover:text-primary-600 transition-colors font-medium",children:r.buy}),(0,s.jsx)("a",{href:"#",className:"text-gray-700 hover:text-primary-600 transition-colors font-medium",children:r.rent}),(0,s.jsx)("a",{href:"#",className:"text-gray-700 hover:text-primary-600 transition-colors font-medium",children:r.share}),(0,s.jsx)("a",{href:"#",className:"text-gray-700 hover:text-primary-600 transition-colors font-medium",children:r.myArea})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"flex items-center border-r pr-4 mr-2",children:c.map((e,r)=>(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(d.default,{href:"/".concat(e.code,"/"),className:"px-2 text-sm font-medium ".concat(t===e.code?"text-primary-600":"text-gray-500 hover:text-gray-800"),children:e.name}),r<c.length-1&&(0,s.jsx)("span",{className:"text-gray-300",children:"|"})]},e.code))}),(0,s.jsx)("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors",children:(0,s.jsx)(o.Z,{className:"h-5 w-5"})}),(0,s.jsx)(d.default,{href:"/".concat(t,"/post-ad/"),className:"bg-accent-500 hover:bg-accent-600 text-white px-4 py-2 rounded-sm text-sm font-medium transition-colors",children:r.placeAd}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 border border-gray-300 text-gray-700 px-4 py-2 rounded-sm hover:bg-gray-50 transition-colors text-sm",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:r.signIn})]})]})]}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)("button",{onClick:()=>x(!m),className:"text-gray-600 hover:text-primary-600 transition-colors",children:m?(0,s.jsx)(i.Z,{className:"h-6 w-6"}):(0,s.jsx)(n.Z,{className:"h-6 w-6"})})})]}),m&&(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white border-t",children:[(0,s.jsx)("a",{href:"#",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",children:r.buy}),(0,s.jsx)("a",{href:"#",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",children:r.rent}),(0,s.jsx)("a",{href:"#",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",children:r.share}),(0,s.jsx)("a",{href:"#",className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md transition-colors",children:r.myArea}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-4 border-t",children:[(0,s.jsx)("button",{className:"p-2 text-gray-600 hover:text-primary-600 transition-colors",children:(0,s.jsx)(o.Z,{className:"h-5 w-5"})}),(0,s.jsx)(d.default,{href:"/".concat(t,"/post-ad/"),className:"bg-accent-500 hover:bg-accent-600 text-white px-4 py-2 rounded-sm text-sm font-medium transition-colors",children:r.placeAd}),(0,s.jsxs)("button",{className:"flex items-center space-x-2 border border-gray-300 text-gray-700 px-4 py-2 rounded-sm hover:bg-gray-50 transition-colors text-sm",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:r.signIn})]})]})]})})]})})}},4726:function(e,t,r){"use strict";r.d(t,{default:function(){return x}});var s=r(7437),a=r(2265),o=r(166);let l=(0,r(8301).Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);var i=r(4891);let n=(0,o.default)(()=>Promise.all([r.e(641),r.e(212),r.e(757)]).then(r.bind(r,8757)),{loadableGenerated:{webpack:()=>[8757]},ssr:!1}),d=e=>{let{dict:t,onNext:r,formData:o,setFormData:l,lang:i}=e,[d,c]=(0,a.useState)(!1),m=["ka","en","ru"].includes(i)?i:"en",x="https://api.maptiler.com/maps/basic-v2/{z}/{x}/{y}.png?key=".concat("fFwC9Atmm5nOTMrzWgR8","&lang=").concat(m);(0,a.useEffect)(()=>{let e=async()=>{if(o.coordinates){c(!0);try{let{lat:e,lng:t}=o.coordinates,r=await fetch("https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=".concat(e,"&lon=").concat(t,"&accept-language=").concat(i)),s=(await r.json()).address||{};l(e=>({...e,city:s.city||s.town||s.village||"",street:s.road||"",houseNumber:s.house_number||""}))}catch(e){console.error("Failed to fetch address:",e)}finally{c(!1)}}},t=setTimeout(()=>{e()},500);return()=>clearTimeout(t)},[o.coordinates,i,l]);let h=e=>{let{name:t,value:r}=e.target;l(e=>({...e,[t]:r}))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6 border-b pb-3",children:t.step1_title}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"propertyType",className:"block text-sm font-medium text-gray-700",children:t.what_to_publish}),(0,s.jsxs)("select",{id:"propertyType",name:"propertyType",value:o.propertyType,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[(0,s.jsx)("option",{children:t.apartment}),(0,s.jsx)("option",{children:t.house}),(0,s.jsx)("option",{children:t.garage}),(0,s.jsx)("option",{children:t.land}),(0,s.jsx)("option",{children:t.commercial})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"dealType",className:"block text-sm font-medium text-gray-700",children:t.deal_type}),(0,s.jsxs)("select",{id:"dealType",name:"dealType",value:o.dealType,onChange:h,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[(0,s.jsx)("option",{children:t.sale}),(0,s.jsx)("option",{children:t.rent})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:t.city}),(0,s.jsx)("input",{type:"text",name:"city",id:"city",value:o.city,onChange:h,placeholder:t.city_placeholder,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:t.street}),(0,s.jsx)("input",{type:"text",name:"street",id:"street",value:o.street,onChange:h,placeholder:t.street_placeholder,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"houseNumber",className:"block text-sm font-medium text-gray-700",children:t.house_number}),(0,s.jsx)("input",{type:"text",name:"houseNumber",id:"houseNumber",value:o.houseNumber,onChange:h,placeholder:t.house_number_placeholder,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-md font-medium text-gray-800",children:t.location_on_map}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:t.location_on_map_hint}),(0,s.jsx)(n,{initialPosition:[o.coordinates.lat,o.coordinates.lng],onPositionChange:e=>{l(t=>({...t,coordinates:{lat:e[0],lng:e[1]}}))},tileUrl:x,attribution:'&copy; <a href="https://www.maptiler.com/copyright/">MapTiler</a> &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),(0,s.jsx)("div",{className:"mt-2 text-xs text-gray-500 h-4",children:d&&"Определение адреса..."})]})]})]})},c=e=>{let{dict:t,onBack:r,onNext:o,formData:n,setFormData:d}=e,[c,m]=(0,a.useState)([]),[x,h]=(0,a.useState)(null),p=(0,a.useRef)(null),u=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=(n.images||[]).map(e=>URL.createObjectURL(e));return m(e),n.video?h(URL.createObjectURL(n.video)):h(null),()=>{Array.isArray(e)&&e.forEach(e=>URL.revokeObjectURL(e)),x&&URL.revokeObjectURL(x)}},[n.images,n.video]);let y=e=>{let t=[...n.images];t.splice(e,1),d(e=>({...e,images:t}))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6 border-b pb-3",children:t.step2_title}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t.photos}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:t.photos_hint}),(0,s.jsx)("div",{className:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)(l,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("div",{className:"flex text-sm text-gray-600",children:(0,s.jsxs)("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500",children:[(0,s.jsx)("span",{children:t.upload_btn}),(0,s.jsx)("input",{id:"image-upload",type:"file",className:"sr-only",multiple:!0,onChange:e=>{if(e.target.files){let t=Array.from(e.target.files);d(e=>({...e,images:[...e.images||[],...t]}))}},ref:p,accept:"image/*"})]})})]})}),c.length>0&&(0,s.jsx)("div",{className:"mt-4 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4",children:c.map((e,t)=>(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("img",{src:e,alt:"Preview ".concat(t),className:"h-24 w-24 object-cover rounded-md"}),(0,s.jsx)("button",{onClick:()=>y(t),className:"absolute top-0.5 right-0.5 bg-red-600 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(i.Z,{size:14})})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:t.video}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:t.video_hint}),x?(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)("video",{src:x,controls:!0,className:"w-full rounded-md"}),(0,s.jsx)("button",{onClick:()=>{d(e=>({...e,video:null}))},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(i.Z,{size:16})})]}):(0,s.jsx)("div",{className:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)(l,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("div",{className:"flex text-sm text-gray-600",children:(0,s.jsxs)("label",{htmlFor:"video-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500",children:[(0,s.jsx)("span",{children:t.upload_video_btn}),(0,s.jsx)("input",{id:"video-upload",type:"file",className:"sr-only",onChange:e=>{let t=e.target.files;t&&t[0]&&d(e=>({...e,video:t[0]}))},ref:u,accept:"video/mp4,video/mov,video/quicktime"})]})})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:t.description}),(0,s.jsx)("textarea",{id:"description",name:"description",rows:5,value:n.description,onChange:e=>{let{name:t,value:r}=e.target;d(e=>({...e,[t]:r}))},placeholder:t.description_placeholder,className:"mt-1 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})]})]})},m=e=>{let{dict:t,onBack:r,onNext:a,formData:o,setFormData:l}=e,i=e=>{let{name:t,value:r}=e.target;l(e=>({...e,[t]:r}))};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-6 border-b pb-3",children:t.step3_title}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"totalArea",className:"block text-sm font-medium text-gray-700",children:t.total_area}),(0,s.jsx)("input",{type:"number",name:"totalArea",id:"totalArea",value:o.totalArea,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"livingArea",className:"block text-sm font-medium text-gray-700",children:t.living_area}),(0,s.jsx)("input",{type:"number",name:"livingArea",id:"livingArea",value:o.livingArea,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"kitchenArea",className:"block text-sm font-medium text-gray-700",children:t.kitchen_area}),(0,s.jsx)("input",{type:"number",name:"kitchenArea",id:"kitchenArea",value:o.kitchenArea,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"rooms",className:"block text-sm font-medium text-gray-700",children:t.rooms}),(0,s.jsx)("input",{type:"number",name:"rooms",id:"rooms",value:o.rooms,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"floor",className:"block text-sm font-medium text-gray-700",children:t.floor}),(0,s.jsx)("input",{type:"number",name:"floor",id:"floor",value:o.floor,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"totalFloors",className:"block text-sm font-medium text-gray-700",children:t.total_floors}),(0,s.jsx)("input",{type:"number",name:"totalFloors",id:"totalFloors",value:o.totalFloors,onChange:i,className:"mt-1 focus:ring-primary-500 focus:border-primary-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"condition",className:"block text-sm font-medium text-gray-700",children:t.condition}),(0,s.jsxs)("select",{id:"condition",name:"condition",value:o.condition,onChange:i,className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[(0,s.jsx)("option",{children:t.condition_new}),(0,s.jsx)("option",{children:t.condition_good}),(0,s.jsx)("option",{children:t.condition_medium}),(0,s.jsx)("option",{children:t.condition_needs_repair}),(0,s.jsx)("option",{children:t.condition_black_frame}),(0,s.jsx)("option",{children:t.condition_white_frame})]})]})]})]})};var x=e=>{let{dict:t,lang:r}=e,[o,l]=(0,a.useState)(1),[i,n]=(0,a.useState)({propertyType:t.postAdForm.apartment,dealType:t.postAdForm.sale,city:"",street:"",houseNumber:"",coordinates:{lat:41.7151,lng:44.8271},images:[],video:null,description:"",totalArea:"",livingArea:"",kitchenArea:"",rooms:"",floor:"",totalFloors:"",condition:t.postAdForm.condition_good}),x=()=>l(e=>e+1),h=()=>l(e=>e-1);return(0,a.useEffect)(()=>{n(e=>({...e,propertyType:t.postAdForm.apartment,dealType:t.postAdForm.sale,condition:t.postAdForm.condition_good}))},[t]),(0,s.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-sm border",children:[(0,s.jsxs)("h2",{className:"text-xl font-medium mb-4 text-gray-500",children:[t.postAdForm.step," ",o," ",t.postAdForm.of," 5"]}),1===o&&(0,s.jsx)(d,{dict:t.postAdForm,onNext:x,formData:i,setFormData:n,lang:r}),2===o&&(0,s.jsx)(c,{dict:t.postAdForm,onBack:h,onNext:x,formData:i,setFormData:n}),3===o&&(0,s.jsx)(m,{dict:t.postAdForm,onBack:h,onNext:x,formData:i,setFormData:n}),(0,s.jsxs)("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[o>1?(0,s.jsx)("button",{onClick:h,className:"px-6 py-2 border rounded-sm text-gray-700 hover:bg-gray-50",children:t.postAdForm.back}):(0,s.jsx)("div",{}),o<5?(0,s.jsx)("button",{onClick:x,className:"px-6 py-2 bg-primary-600 text-white rounded-sm hover:bg-primary-700",children:t.postAdForm.next}):(0,s.jsx)("button",{className:"px-6 py-2 bg-accent-500 text-white rounded-sm hover:bg-accent-600",children:t.postAdForm.publish})]})]})}}},function(e){e.O(0,[298,971,117,744],function(){return e(e.s=6033)}),_N_E=e.O()}]);